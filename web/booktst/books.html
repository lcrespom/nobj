<table id="books">
	<tr>
		<th>Title</th>
		<th>Author</th>
		<th>Actions</th>
	</tr>
</table>

<script>
	require(['data'], function(data) {

		function registerActions(row, book) {
			$("a.editLink", row).click(function() { window.books.current = book });
			$("a.delLink", row).click(function() { alert("Delete entry " + book._id); });
		}

		data.get('books', function(items) {
			var table = $("#books");
			for (var i = 0; i < items.length; i++) {
				var book = items[i];
				var newRow = '<tr><td>' + book.title + '</td>';
				newRow += '<td>' + book.author + '</td>';
				newRow += '<td><a class="editLink" href="#edit">Edit</a>';
				newRow += ' / <a class="delLink" href="#">Delete</a></td></tr>';
				var newRowElement = $(newRow);
				registerActions(newRowElement, book);
				table.append(newRowElement);
			}
		});

	});
</script>
